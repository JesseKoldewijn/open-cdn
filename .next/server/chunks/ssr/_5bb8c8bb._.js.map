{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///home/jesse/wsl-projects/oss/cdn.jereko.dev/src/utils/url/example-url.ts"],"sourcesContent":["export const buildExampleUrl = (\n  refUrl: URL,\n  variant: \"direct-query\" | \"indirect\",\n  { showQueryKeys } = { showQueryKeys: false },\n) => {\n  const baseUrl = `${refUrl.protocol}//${refUrl.host}`;\n  const path =\n    variant === \"direct-query\"\n      ? \"direct-query\"\n      : \"[protocol]/[hostname]/[tld]/[...filePath]\";\n  const query = variant === \"direct-query\" ? \"?dq-url=[some-image-url]\" : \"\";\n\n  if (showQueryKeys) return `${baseUrl}/${path}${query}`;\n\n  const refExampleUrl = new URL(\"https://jereko.dev/favicons/favicon.ico\");\n\n  const filledPath = path\n    .replace(\"[protocol]\", refExampleUrl.protocol.replace(\":\", \"\"))\n    .replace(\"[hostname]\", refExampleUrl.hostname.split(\".\").at(0)!)\n    .replace(\"[tld]\", refExampleUrl.hostname.split(\".\").slice(-1)[0])\n    .replace(\"[...filePath]\", refExampleUrl.pathname.replace(/^\\//, \"\"));\n\n  const filledQuery = query\n    .replace(\"[some-image-url]\", refExampleUrl.href)\n    .replace(\"[...filePath]\", refUrl.pathname.replace(/^\\//, \"\"));\n\n  return `${baseUrl}/${filledPath}${filledQuery}`;\n};\n"],"names":[],"mappings":";;;AAAO,MAAM,kBAAkB,CAC7B,QACA,SACA,EAAE,aAAa,EAAE,GAAG;IAAE,eAAe;AAAM,CAAC;IAE5C,MAAM,UAAU,GAAG,OAAO,QAAQ,CAAC,EAAE,EAAE,OAAO,IAAI,EAAE;IACpD,MAAM,OACJ,YAAY,iBACR,iBACA;IACN,MAAM,QAAQ,YAAY,iBAAiB,6BAA6B;IAExE,IAAI,eAAe,OAAO,GAAG,QAAQ,CAAC,EAAE,OAAO,OAAO;IAEtD,MAAM,gBAAgB,IAAI,IAAI;IAE9B,MAAM,aAAa,KAChB,OAAO,CAAC,cAAc,cAAc,QAAQ,CAAC,OAAO,CAAC,KAAK,KAC1D,OAAO,CAAC,cAAc,cAAc,QAAQ,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,IAC3D,OAAO,CAAC,SAAS,cAAc,QAAQ,CAAC,KAAK,CAAC,KAAK,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,EAC/D,OAAO,CAAC,iBAAiB,cAAc,QAAQ,CAAC,OAAO,CAAC,OAAO;IAElE,MAAM,cAAc,MACjB,OAAO,CAAC,oBAAoB,cAAc,IAAI,EAC9C,OAAO,CAAC,iBAAiB,OAAO,QAAQ,CAAC,OAAO,CAAC,OAAO;IAE3D,OAAO,GAAG,QAAQ,CAAC,EAAE,aAAa,aAAa;AACjD","debugId":null}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///home/jesse/wsl-projects/oss/cdn.jereko.dev/src/app/page.tsx"],"sourcesContent":["import { headers } from \"next/headers\";\n\nimport { buildExampleUrl } from \"../utils/url/example-url\";\n\nconst HomePage = async () => {\n  const headersList = await headers();\n\n  const referer = headersList.get(\"referer\") ?? \"http://localhost:3000\";\n  const refUrl = new URL(referer);\n\n  return (\n    <div className=\"flex h-screen flex-col items-center justify-center gap-6\">\n      <h1 className=\"text-3xl font-bold\">Open-CDN</h1>\n      <div className=\"flex flex-col items-center justify-center gap-10 border-t px-4 pt-4\">\n        <strong className=\"text-xl font-bold\">Example routes</strong>\n        <div className=\"flex flex-col items-center justify-center gap-6 text-center\">\n          <div className=\"flex flex-col gap-2 text-sm\">\n            <strong>Direct Query</strong>\n            <code className=\"bg-foreground/20 inline w-full max-w-sm overflow-x-scroll rounded-md p-2 text-sm text-nowrap md:max-w-lg\">\n              {buildExampleUrl(refUrl, \"direct-query\")}\n            </code>\n          </div>\n          <div className=\"flex flex-col gap-2 text-sm\">\n            <strong>Indirect Query</strong>\n            <code className=\"bg-foreground/20 inline w-full max-w-sm overflow-x-scroll rounded-md p-2 text-sm text-nowrap md:max-w-lg\">\n              {buildExampleUrl(refUrl, \"indirect\")}\n            </code>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HomePage;\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,WAAW;IACf,MAAM,cAAc,MAAM,CAAA,GAAA,8PAAA,CAAA,UAAO,AAAD;IAEhC,MAAM,UAAU,YAAY,GAAG,CAAC,cAAc;IAC9C,MAAM,SAAS,IAAI,IAAI;IAEvB,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC;gBAAG,WAAU;0BAAqB;;;;;;0BACnC,6WAAC;gBAAI,WAAU;;kCACb,6WAAC;wBAAO,WAAU;kCAAoB;;;;;;kCACtC,6WAAC;wBAAI,WAAU;;0CACb,6WAAC;gCAAI,WAAU;;kDACb,6WAAC;kDAAO;;;;;;kDACR,6WAAC;wCAAK,WAAU;kDACb,CAAA,GAAA,qIAAA,CAAA,kBAAe,AAAD,EAAE,QAAQ;;;;;;;;;;;;0CAG7B,6WAAC;gCAAI,WAAU;;kDACb,6WAAC;kDAAO;;;;;;kDACR,6WAAC;wCAAK,WAAU;kDACb,CAAA,GAAA,qIAAA,CAAA,kBAAe,AAAD,EAAE,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOvC;uCAEe","debugId":null}}]
}